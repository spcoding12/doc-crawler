# 通用技术文档爬取工具 - V1 需求规格

> **状态**：✅ 需求已确认
> **更新**：2026-02-06

---

## 一、产品定位

**核心价值**：将任意技术文档网站批量抓取并保存到本地

**目标用户**：需要系统学习技术、离线保存文档、或用AI工具辅助学习的开发者

---

## 二、V1 功能范围

| 编号 | 功能 | 描述 |
|------|------|------|
| F1 | 输入URL | 用户提供文档起始页URL |
| F2 | 自动发现页面 | 基于侧边栏目录自动找到所有页面 |
| F3 | 提取正文 | 提取主要内容，去掉导航/页脚 |
| F4 | 图片处理 | 默认下载到本地，可通过参数跳过 |
| F5 | 多格式输出 | 单MD/多MD/JSON，用户选择 |

---

## 三、关键决策

| 决策项 | 策略 |
|--------|------|
| 文档范围 | 只爬起始URL路径下的页面，基于侧边栏确定 |
| 页面发现 | 侧边栏解析为主，递归爬取/sitemap为辅 |
| 内容提取 | 框架预设优先 → 通用算法兜底 → 用户可配置 |
| 输出格式 | 三种均支持，交互时选择 |
| 运行方式 | 交互式脚本 |
| 错误处理 | 重试3次 → 记录原因跳过 → 最后汇总报告 |

---

## 四、详细规格

### 4.1 图片处理
- **默认行为**：下载到本地 `images/` 目录
- **可选参数**：`--no-images` 跳过图片下载，保留原始链接

### 4.2 支持的文档框架（V1）
| 框架 | 典型站点示例 |
|------|-------------|
| Docusaurus | React, Create React App |
| VuePress | Vue.js |
| MkDocs | FastAPI, Material for MkDocs |
| GitBook | 各种开源项目 |

### 4.3 输出目录结构
按网站侧边栏目录结构，**带序号保持顺序**：
```
output/
└── docker-get-started/
    ├── 01_overview.md
    ├── 02_getting-started/
    │   ├── 01_introduction.md
    │   ├── 02_docker-concepts.md
    │   └── ...
    ├── images/
    │   ├── img001.png
    │   └── ...
    ├── index.md          # 目录索引
    └── all.md            # 合并版（可选）
```

---

## 五、验收标准

> **核心：整个过程用户只需提供URL即可完成**

- [ ] 成功爬取 Docker 文档
- [ ] 成功爬取至少2种其他框架站点
- [ ] 三种输出格式均正常
- [ ] 图片正确下载
- [ ] 带序号的目录结构正确
- [ ] 失败页面有汇总报告

---

## 六、后续版本规划

| 版本 | 功能 |
|------|------|
| V2 | 断点续爬、更多框架支持 |
| V3 | GUI界面、自动更新检测 |
